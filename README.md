
# Introducing Knowledge Provenance for Nanopublications
[![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.10392177.svg)](https://doi.org/10.5281/zenodo.10392177)

This repository contains the source code for creating nanopublications with Knowledge Provenance information and the code for serializing nanopublications representing CORE-KB's GCS facts. 

## Repository Structure
The repository is organized as follows.
- `data/` contains useful resources to create the nanopublications and all the results produced by the code: the program's log files and the serialized nanopublications. 
- `py/` contains the source code we developed to serialize nanopublications iwth knowledge provenance information and the code to serialize CORE-KB's GCS facts.
- `properties/`: contains the properties file, which comprises wome useful paths and namespaces used within the code.

## Reproducing CORE Nanopublications
The script `serialize_nanopublications.py` serialize the facts generated by the CORE system into extended nanopublications. It takes two CSV file containing each GCS and the sentences supporting it or conflicting with it. 

We provide a `prepare_dataset` module that builds such files from the publicly-available knowledge base compirising CorekB's facts. However, one can build its own pre-processing to extract the information needed for the computation.

### Prepare the Dataset 
The facts generated by the CORE system can be downloaded from a Zenodo repository in Turtle format. To prepare the dataset before running the serialization compute the following step:
1. Download the CORE data dump: file `data.ttl` accessible at https://doi.org/10.5281/zenodo.10392177 .
2. Place the `data.ttl` in the directory `data/raw/``
3. Run the script `py/prepare_dataset_lightRDF.py` 

#### Requirements
The script `py/prepare_dataset_lightRDF.py` uses the [LightRDF](https://github.com/ozekik/lightrdf/) library to parse the graph and extract relevant information. Make sure LightRDF is installed in your environment before running the script.

#### Note

You only need to run the script once to set up the necessary data for the rest of the code. The `py/prepare_dataset_lightRDF.py` script stores two CSV files in the directory `data/raw/dump_corekb` containg information about the GCS facts and the sentences supporting it or conflicting with it that are needed to run the serialization. 

### Source Code
The code divides into:
- `py/extended_nanopub`: contains the source code required to build extended nanopublications.
- `py/CoreNanopub`: contains the source code required to build the nanopublications starting from GCS facts stored in CORE-KB.
- `py/CommonNanopub`: contains the CoreNanopub's superclass with general methods used to build the nanopublications represting GCS facts stored in CORE-KB.
- `py/prepare_dataset`: contains the source code required to extract useful information from the dump file containing facts generated by the CORE system.